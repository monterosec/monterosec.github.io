<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productos - Montero's</title>
    <link rel="icon" href="https://monterosec.github.io/img/LG.ico" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'montero-pink': '#ffe4e6',
                        'montero-dark': '#881337',
                        'montero-gold': '#d4af37',
                        'fresh-pink': '#fb7185',
                    },
                    fontFamily: {
                        sans: ['Lato', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Lato', sans-serif; background-color: #fff; }
        h1, h2, h3, h4 { font-family: 'Playfair Display', serif; }
        
        /* Animación suave para el modal */
        #product-modal { transition: opacity 0.3s ease-in-out, visibility 0.3s; }
        #product-modal.hidden-modal { opacity: 0; visibility: hidden; pointer-events: none; }
        #product-modal.visible-modal { opacity: 1; visibility: visible; pointer-events: auto; }
        
        .modal-content { transform: scale(0.95); transition: transform 0.3s ease-out; }
        .visible-modal .modal-content { transform: scale(1); }

        /* Ajuste para que el botón de carrito siempre sea visible o accesible */
        .cart-btn-visible {
            opacity: 1 !important;
            transform: translateY(0) !important;
        }
        
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Ocultar flechas del input number */
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { 
            -webkit-appearance: none; 
            margin: 0; 
        }
        input[type=number] {
            -moz-appearance: textfield;
        }
        
        /* Ocultar scrollbar en acordeón móvil si fuera necesario */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none;  scrollbar-width: none; }
    </style>
</head>
<body class="flex flex-col min-h-screen text-gray-800 pt-20">

    <div id="navbar-container"></div>

    <main class="flex-grow bg-gray-50/50 relative">
        
        <!-- HEADER DE SECCIÓN -->
        <section class="bg-montero-pink/30 py-8 md:py-20 relative overflow-hidden">
            <div class="absolute -right-20 -top-20 w-96 h-96 bg-montero-gold/10 rounded-full blur-3xl"></div>
            <div class="max-w-7xl mx-auto px-4 text-center relative z-10">
                <h1 class="text-3xl md:text-5xl font-bold text-montero-dark mb-2 md:mb-4">Nuestro Catálogo</h1>
                <p class="text-gray-600 max-w-2xl mx-auto text-sm md:text-base">Explora la colección completa de Montero's.</p>
            </div>
        </section>

        <!-- ÁREA DE CONTENIDO (FILTROS + GRID) -->
        <section class="max-w-7xl mx-auto px-4 py-8 md:py-12" id="catalogo">
            
            <!-- BARRA DE FILTROS SUPERIOR (Sticky y Acordeón en Móvil) -->
            <div class="bg-white p-4 md:p-6 rounded-xl shadow-sm border border-gray-100 mb-8 sticky top-20 z-30 transition-all duration-300" id="filtros-container">
                <div class="flex flex-col gap-4">
                    
                    <!-- FILA SUPERIOR: Buscador + Botón Toggle (Móvil) -->
                    <div class="flex gap-3 items-center w-full">
                        <!-- Buscador (Ocupa todo el espacio disponible) -->
                        <div class="relative flex-grow">
                            <input type="text" id="search-input" placeholder="Buscar productos..." class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-montero-gold focus:ring-1 focus:ring-montero-gold outline-none transition bg-gray-50 focus:bg-white text-sm shadow-sm">
                            <i class="fa-solid fa-search absolute left-3 top-3.5 text-gray-400 text-sm"></i>
                        </div>

                        <!-- Botón Filtros (Solo visible en Móvil) -->
                        <button id="mobile-filter-btn" onclick="toggleMobileFilters()" class="lg:hidden px-4 py-3 bg-montero-pink/20 text-montero-dark rounded-lg font-bold flex items-center gap-2 hover:bg-montero-pink/40 transition whitespace-nowrap border border-montero-pink/30">
                            <i class="fa-solid fa-sliders"></i> <span class="hidden sm:inline">Filtros</span>
                        </button>
                    </div>

                    <!-- ACORDEÓN DE FILTROS (Oculto en móvil por defecto, Flex en Desktop) -->
                    <!-- Usamos 'hidden' y 'lg:flex' para controlar la visibilidad por defecto -->
                    <div id="filters-wrapper" class="hidden lg:flex flex-col lg:flex-row gap-3 lg:items-center lg:justify-end w-full transition-all duration-300 ease-in-out border-t lg:border-t-0 border-gray-100 pt-4 lg:pt-0 mt-2 lg:mt-0">
                        
                        <!-- Select Categoría -->
                        <div class="w-full lg:w-auto lg:min-w-[180px] relative">
                            <label class="block lg:hidden text-xs font-bold text-gray-400 uppercase mb-1 ml-1">Categoría</label>
                            <select id="category-select" class="w-full appearance-none pl-4 pr-10 py-3 rounded-lg border border-gray-200 bg-white cursor-pointer focus:border-montero-gold focus:outline-none hover:bg-gray-50 transition text-sm font-medium text-gray-700 shadow-sm">
                                <option value="all">Todas las Categorías</option>
                                <option value="Facial">Cuidado Facial</option>
                                <option value="Maquillaje">Maquillaje General</option>
                                <option value="Ojos">Ojos</option>
                                <option value="Labios">Labios</option>
                                <option value="Rostro">Rostro</option>
                                <option value="Capilar">Cuidado Capilar</option>
                                <option value="Corporal">Cuidado Corporal</option>
                                <option value="Perfumes">Perfumes y Splash</option>
                                <option value="Herramientas">Brochas y Herramientas</option>
                            </select>
                            <i class="fa-solid fa-chevron-down absolute right-3 bottom-4 lg:top-4 text-xs text-gray-400 pointer-events-none"></i>
                        </div>

                        <!-- Select Marca -->
                        <div class="w-full lg:w-auto lg:min-w-[160px] relative">
                            <label class="block lg:hidden text-xs font-bold text-gray-400 uppercase mb-1 ml-1">Marca</label>
                            <select id="brand-select" class="w-full appearance-none pl-4 pr-10 py-3 rounded-lg border border-gray-200 bg-white cursor-pointer focus:border-montero-gold focus:outline-none hover:bg-gray-50 transition text-sm font-medium text-gray-700 shadow-sm">
                                <option value="all">Todas las Marcas</option>
                                <option value="Ligne D’or">Ligne D'or</option>
                                <option value="Samy Cosmetics">Samy</option>
                                <option value="Vogue">Vogue</option>
                                <option value="Dolce Bella">Dolce Bella</option>
                                <option value="MYK">MYK</option>
                                <option value="Engol">Engol</option>
                                <option value="Lula">Lula</option>
                                <option value="Atenea">Atenea</option>
                                <option value="Lissia">Lissia</option>
                                <option value="Otros">Otras</option>
                            </select>
                            <i class="fa-solid fa-chevron-down absolute right-3 bottom-4 lg:top-4 text-xs text-gray-400 pointer-events-none"></i>
                        </div>

                        <!-- Select Género -->
                        <div class="w-full lg:w-auto lg:min-w-[140px] relative">
                            <label class="block lg:hidden text-xs font-bold text-gray-400 uppercase mb-1 ml-1">Género</label>
                            <select id="gender-select" class="w-full appearance-none pl-4 pr-10 py-3 rounded-lg border border-gray-200 bg-white cursor-pointer focus:border-montero-gold focus:outline-none hover:bg-gray-50 transition text-sm font-medium text-gray-700 shadow-sm">
                                <option value="all">Género: Todos</option>
                                <option value="Femenino">Femenino</option>
                                <option value="Unisex">Unisex</option>
                                <option value="Masculino">Masculino</option>
                            </select>
                            <i class="fa-solid fa-chevron-down absolute right-3 bottom-4 lg:top-4 text-xs text-gray-400 pointer-events-none"></i>
                        </div>
                        
                        <!-- Botón Reset -->
                        <button onclick="resetFilters()" class="w-full lg:w-auto px-4 py-3 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition flex items-center justify-center gap-2 shadow-sm" title="Limpiar Filtros">
                            <span class="lg:hidden font-bold">Limpiar Filtros</span>
                            <i class="fa-solid fa-rotate-left"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- CONTADOR DE RESULTADOS -->
            <div class="flex justify-between items-center mb-6 px-1">
                <span id="results-count" class="text-xs md:text-sm font-bold text-gray-500">Cargando...</span>
                <div class="text-[10px] md:text-xs text-gray-400 italic">Precios incluyen IVA</div>
            </div>

            <!-- GRID DE PRODUCTOS -->
            <div id="products-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6 min-h-[500px]">
                <!-- Se inyecta con JS -->
            </div>

            <!-- PAGINACIÓN -->
            <div id="pagination-container" class="mt-12 flex justify-center items-center gap-2">
                <!-- Se inyecta con JS -->
            </div>

            <!-- MENSAJE SIN RESULTADOS -->
            <div id="no-results" class="hidden text-center py-20">
                <div class="bg-gray-100 rounded-full h-24 w-24 flex items-center justify-center mx-auto mb-4">
                    <i class="fa-solid fa-magnifying-glass text-4xl text-gray-400"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-700 mb-2">No encontramos productos</h3>
                <button onclick="resetFilters()" class="px-6 py-2 bg-montero-dark text-white rounded-full font-bold hover:bg-montero-gold transition">
                    Ver todo
                </button>
            </div>

        </section>

        <!-- === MODAL DETALLADO DE PRODUCTO === -->
        <div id="product-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm hidden-modal">
            <div class="bg-white rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden relative modal-content flex flex-col md:flex-row max-h-[90vh] md:max-h-[600px]">
                
                <!-- Botón cerrar -->
                <button onclick="closeProductModal()" class="absolute top-4 right-4 z-50 bg-white/80 hover:bg-white text-gray-500 hover:text-red-500 w-10 h-10 rounded-full flex items-center justify-center shadow-md transition">
                    <i class="fa-solid fa-times text-xl"></i>
                </button>

                <!-- Col 1: Imagen -->
                <div class="w-full md:w-1/2 bg-gray-50 flex items-center justify-center p-8 relative">
                    <!-- Ajustado Z-index y posición para que no tape la imagen -->
                    <div class="absolute top-4 left-4 bg-montero-gold text-white text-[10px] md:text-xs font-bold px-3 py-1 rounded-full uppercase z-10 shadow-sm" id="modal-brand-tag">MARCA</div>
                    <!-- Imagen ajustada con max-h y padding para evitar superposición -->
                    <img id="modal-img" src="" alt="Producto" class="max-h-[220px] md:max-h-[400px] w-auto object-contain drop-shadow-lg pt-8">
                </div>

                <!-- Col 2: Info -->
                <div class="w-full md:w-1/2 p-6 md:p-8 overflow-y-auto">
                    <div class="mb-6">
                        <span id="modal-category" class="text-xs font-bold text-gray-400 uppercase tracking-wider">Categoría</span>
                        <h2 id="modal-name" class="text-2xl md:text-3xl font-bold text-gray-900 leading-tight mt-1 mb-2 font-serif">Nombre</h2>
                        <div class="flex items-center gap-2 mb-4">
                            <span id="modal-price" class="text-2xl font-bold text-montero-dark">$0.00</span>
                            <span class="text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded">Incluye IVA</span>
                        </div>
                        <p id="modal-description" class="text-gray-600 leading-relaxed text-sm">
                            Descripción...
                        </p>
                    </div>

                    <div class="border-t border-gray-100 pt-6">
                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <div>
                                <span class="block text-xs text-gray-400 font-bold uppercase mb-1">Contenido</span>
                                <span id="modal-unit" class="text-sm font-medium text-gray-800">0 ml</span>
                            </div>
                            <div>
                                <span class="block text-xs text-gray-400 font-bold uppercase mb-1">Género</span>
                                <span id="modal-gender" class="text-sm font-medium text-gray-800">Unisex</span>
                            </div>
                        </div>

                        <!-- Selector Cantidad (Arreglado Diseño y + / -) -->
                        <div class="flex flex-col sm:flex-row items-center gap-4">
                            <div class="flex items-center border border-gray-300 rounded-full overflow-hidden w-full sm:w-auto h-12">
                                <!-- Botón Menos (type="button" para evitar submits raros) -->
                                <button type="button" onclick="changeModalQuantity(-1)" class="w-12 h-full bg-gray-50 hover:bg-gray-100 text-gray-600 transition flex items-center justify-center text-lg font-bold select-none">-</button>
                                
                                <!-- Input centrado -->
                                <input type="number" id="modal-quantity" value="1" min="1" readonly class="w-12 h-full text-center border-x border-gray-100 text-gray-800 font-bold focus:outline-none bg-white">
                                
                                <!-- Botón Más -->
                                <button type="button" onclick="changeModalQuantity(1)" class="w-12 h-full bg-gray-50 hover:bg-gray-100 text-gray-600 transition flex items-center justify-center text-lg font-bold select-none">+</button>
                            </div>
                            
                            <button onclick="addToCartFromModal()" class="w-full flex-grow bg-montero-dark text-white font-bold h-12 px-6 rounded-full hover:bg-gray-900 transition shadow-lg transform active:scale-95 flex justify-center items-center gap-2">
                                <i class="fa-solid fa-cart-plus"></i> Agregar al Carrito
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <div id="footer-container"></div>

    <!-- Script Global -->
    <script>
        // --- BASE DE DATOS DE PRODUCTOS ---
        const productsDB = [
            { id: "EC/MT-0001", name: "Sérum con vitamina C 3 en 1", category: "Cuidado Facial", brand: "Ligne D’or", price: 8.50, unit: "30 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-0002", name: "Sérum Iluminador Hyalu Glow", category: "Cuidado Facial", brand: "Ligne D’or", price: 8.50, unit: "30 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-0003", name: "Sérum con Retinol", category: "Cuidado Facial", brand: "Ligne D’or", price: 8.50, unit: "30 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-0004", name: "Sérum Nutritivo", category: "Cuidado Facial", brand: "Samy Cosmetics", price: 8.50, unit: "30 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-0005", name: "Sérum para Labios 01 Crystal Clear", category: "Labios", brand: "Samy Cosmetics", price: 6.50, unit: "5 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-0006", name: "Tónico Facial con agua de rosas", category: "Cuidado Facial", brand: "Ligne D’or", price: 4.00, unit: "240 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-0007", name: "Tónico LB Despigmentante Manchas", category: "Cuidado Facial", brand: "LB", price: 10.00, unit: "30 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-0008", name: "Aceite de Ricino Pestañas", category: "Cuidado de Pestañas", brand: "Ligne D’or", price: 4.00, unit: "30 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-0009", name: "Aceite Reparador de puntas", category: "Cuidado Capilar", brand: "Lissia", price: 6.00, unit: "250 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-010", name: "Aceite de coco capilar y corporal", category: "Cuidado Capilar", brand: "Lissia", price: 6.00, unit: "250 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-011", name: "Aceite de argán reparador", category: "Cuidado Capilar", brand: "Johnverly", price: 5.00, unit: "250 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-012", name: "Rimel Vive Amor a Primera Vista", category: "Maquillaje de Ojos", brand: "Vogue", price: 6.50, unit: "9 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-013", name: "Máscara Efecto Pestañas de Muñeca", category: "Maquillaje de Ojos", brand: "Vogue", price: 6.00, unit: "9 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-014", name: "Máscara de Pestañas - Iconic Length", category: "Maquillaje de Ojos", brand: "Samy Cosmetics", price: 7.00, unit: "9 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-015", name: "Máscara para Pestañas Volumen Lash Negro", category: "Maquillaje de Ojos", brand: "Samy Cosmetics", price: 8.00, unit: "10 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-016", name: "Máscara de Pestañas Mayor Definición Waterproof", category: "Maquillaje de Ojos", brand: "Dolce Bella", price: 5.00, unit: "9 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-017", name: "Máscara para Pestañas Waterproof Maybelline", category: "Maquillaje de Ojos", brand: "Falsies Surreal", price: 18.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-018", name: "Pestañina - Al Infinito", category: "Maquillaje de Ojos", brand: "Vogue", price: 6.50, unit: "9 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-019", name: "Pestañina a Prueba de Agua Luzette", category: "Maquillaje de Ojos", brand: "Vogue", price: 4.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-020", name: "Pestañina - Iconic Volume", category: "Maquillaje de Ojos", brand: "Samy Cosmetics", price: 7.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-021", name: "Pestañina - Mascara 3d #2 Café", category: "Maquillaje de Ojos", brand: "Samy Cosmetics", price: 4.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-022", name: "Tintas de labios JBL", category: "Labios", brand: "JBL", price: 1.50, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-023", name: "Brillo Voluminizador", category: "Labios", brand: "Karité", price: 3.00, unit: "5 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-024", name: "Tinta de labios paleta de helado", category: "Labios", brand: "Nice Face", price: 1.50, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-025", name: "Tinta para labios Ohayo", category: "Labios", brand: "Ohayo", price: 2.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-026", name: "Voluminizador Volu Lip – Miis Cosmetics", category: "Labios", brand: "Miis Cosmetics", price: 4.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-027", name: "Brillo Labial Diamond Sparks", category: "Labios", brand: "Samy Cosmetics", price: 5.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-028", name: "Hidratante de Labios", category: "Labios", brand: "Ligne D’or", price: 3.50, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-029", name: "Iconic Lip Gloss Bari Atenea", category: "Labios", brand: "Atenea", price: 4.50, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-030", name: "Labial Líquido Mate Vogue Colorissimo", category: "Labios", brand: "Vogue", price: 3.50, unit: "5 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-031", name: "Labial Resist a prueba de besos", category: "Labios", brand: "Vogue", price: 7.00, unit: "3 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-032", name: "Labial Humectante y Vitamina E", category: "Labios", brand: "Samy Cosmetics", price: 3.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-033", name: "Labial Mate Engol collections", category: "Labios", brand: "Engol", price: 4.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-034", name: "Labial Voluminizador", category: "Labios", brand: "Áloe Karite", price: 3.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-035", name: "Lapiz delineador Labios Kolor Factory", category: "Labios", brand: "Samy Cosmetics", price: 2.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-036", name: "Rubor individual", category: "Maquillaje de Rostro", brand: "Samy Cosmetics", price: 3.50, unit: "4 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-037", name: "Rubor Maybelucky 2 en 1", category: "Maquillaje de Rostro", brand: "Maybelucky", price: 5.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-038", name: "Rubor Ushas Duo", category: "Maquillaje de Rostro", brand: "Ushas", price: 5.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-039", name: "Rubor en barra Yaxi Beauty", category: "Maquillaje de Rostro", brand: "Yaxi Beauty", price: 5.00, unit: "4 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-040", name: "Primer Rosado", category: "Preparación de Piel", brand: "MYK", price: 5.00, unit: "32 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-041", name: "Gel primer reductor de poros", category: "Preparación de Piel", brand: "Ligne D’or", price: 6.00, unit: "20 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-042", name: "Primer Spray Engol Collections", category: "Preparación de Piel", brand: "Engol", price: 5.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-043", name: "Corrector de Ojeras", category: "Maquillaje de Rostro", brand: "Dolce Bella", price: 5.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-044", name: "Corrector de Liquido", category: "Maquillaje de Rostro", brand: "Samy Cosmetics", price: 6.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-045", name: "Corrector de Liquido", category: "Maquillaje de Rostro", brand: "Nailen", price: 4.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-046", name: "Base Correctora Cremosa", category: "Maquillaje de Rostro", brand: "Samy Cosmetics", price: 3.50, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-047", name: "Paleta De Correctores Y Neutralizadores Samy X6", category: "Maquillaje de Rostro", brand: "Samy Cosmetics", price: 6.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-048", name: "Paleta De Correctores Y Contornos Samy X6", category: "Maquillaje de Rostro", brand: "Samy Cosmetics", price: 6.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-049", name: "Fijador de Maquillaje Myk Fixing spray", category: "Fijadores", brand: "MYK", price: 6.50, unit: "85 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-050", name: "Fijador Matte", category: "Fijadores", brand: "Engol", price: 5.00, unit: "85 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-051", name: "Fijador de maquillaje", category: "Fijadores", brand: "Samy Cosmetics", price: 10.50, unit: "80 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-052", name: "Polvo Suelto Translúcido Matte Touch", category: "Maquillaje de Rostro", brand: "Samy Cosmetics", price: 5.50, unit: "7 g", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-053", name: "Polvo Suelto Traslucido", category: "Maquillaje de Rostro", brand: "MYK", price: 4.50, unit: "8 g", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-054", name: "Polvo Compacto Flawless Skin Piel Mixta a Grasa", category: "Maquillaje de Rostro", brand: "Samy Cosmetics", price: 6.50, unit: "9 g", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-055", name: "Polvo compacto Samy Banana", category: "Maquillaje de Rostro", brand: "Samy Cosmetics", price: 6.50, unit: "9.5 g", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-056", name: "Polvo de hadas crso beauty", category: "Iluminadores", brand: "CRSO", price: 5.50, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-057", name: "Polvo de hada Maybelucky 5D", category: "Iluminadores", brand: "Maybelucky", price: 3.50, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-058", name: "Paleta de Sombras x 12 Tonos Samy", category: "Maquillaje de Ojos", brand: "Samy Cosmetics", price: 8.50, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-059", name: "Paleta de sombras x 30 tonos", category: "Maquillaje de Ojos", brand: "Otros", price: 10.00, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-060", name: "Paleta neutral", category: "Maquillaje de Ojos", brand: "Miis Cosmetics", price: 9.00, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-061", name: "Paleta de sombras Karol G", category: "Maquillaje de Ojos", brand: "Otros", price: 9.00, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-062", name: "Paleta dolce bella Nude", category: "Maquillaje de Ojos", brand: "Dolce Bella", price: 8.50, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-063", name: "Paleta de iluminadores MyK", category: "Iluminadores", brand: "MYK", price: 5.00, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-064", name: "Paleta Huda Beauty Empowered", category: "Maquillaje de Ojos", brand: "Huda Beauty", price: 7.00, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-065", name: "Paleta Make up Beauty", category: "Maquillaje de Ojos", brand: "Otros", price: 12.00, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-066", name: "Ofra Pro Palette", category: "Iluminadores", brand: "Otros", price: 11.00, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-067", name: "Palette elements", category: "Maquillaje de Ojos", brand: "Otros", price: 7.00, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-068", name: "Base Líquida Resist", category: "Base de Maquillaje", brand: "Vogue", price: 7.00, unit: "30 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-069", name: "Base Vogue Mate Natural", category: "Base de Maquillaje", brand: "Vogue", price: 5.50, unit: "30 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-070", name: "Base liquida Vogue Efecto total 6", category: "Base de Maquillaje", brand: "Vogue", price: 5.50, unit: "30 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-071", name: "Base Líquida Go Bright Samy", category: "Base de Maquillaje", brand: "Samy Cosmetics", price: 9.00, unit: "30 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-072", name: "Base Líquida Matificante", category: "Base de Maquillaje", brand: "Samy Cosmetics", price: 9.00, unit: "23 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-073", name: "Base líquida matificante BBROSE alta cobertura", category: "Base de Maquillaje", brand: "Bbrose", price: 8.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-074", name: "Crema Facial Dia y Noche Antiedad", category: "Cuidado Facial", brand: "Ligne D’or", price: 6.00, unit: "60 g", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-075", name: "Espuma facial", category: "Cuidado Facial", brand: "Ligne D’or", price: 6.00, unit: "150 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-076", name: "Agua Micelar Rosada Todo en uno 400 ml", category: "Cuidado Facial", brand: "Garnier Skinactive", price: 8.00, unit: "400 ml", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-077", name: "Agua micelar fine lady x 220 ml", category: "Cuidado Facial", brand: "Johnverly", price: 4.00, unit: "220 ml", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-078", name: "Desodorante LB Antitranspirante y Aclarador", category: "Cuidado Corporal", brand: "LB", price: 10.00, unit: "60 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-079", name: "Cera Fijadora en Barra Dromatic", category: "Cuidado Capilar", brand: "Dromatic", price: 7.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-080", name: "Body Glow 6039 Myk", category: "Cuidado Corporal", brand: "MYK", price: 6.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-081", name: "Papeles Antigrasa Absorbentes de Arroz + Pomo Aplicador", category: "Cuidado Facial", brand: "MYK", price: 4.50, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-082", name: "Gel Para Cejas Y Pestañas Samy", category: "Cejas y Pestañas", brand: "Samy Cosmetics", price: 4.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-083", name: "Jabón de cejas RIMOCOO", category: "Cejas y Pestañas", brand: "Rimocoo", price: 2.50, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-084", name: "Maquillaje cremoso para cejas SAMY", category: "Cejas y Pestañas", brand: "Samy Cosmetics", price: 3.50, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-085", name: "Kit de cejas LULA", category: "Cejas y Pestañas", brand: "LULA", price: 4.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-086", name: "Tinta líquida de cejas", category: "Cejas y Pestañas", brand: "Vogue", price: 5.50, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-087", name: "Lápiz Bbrose para cejas", category: "Cejas y Pestañas", brand: "Bbrose", price: 3.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-088", name: "Toallitas Desmaquillantes 0% alcohol", category: "Cuidado Facial", brand: "LULA", price: 2.50, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-089", name: "Plumon Perfect Liner Samy", category: "Maquillaje de Ojos", brand: "Samy Cosmetics", price: 6.50, unit: "1.2 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-090", name: "Delineador Ultramate Precision Liner Samy", category: "Maquillaje de Ojos", brand: "Samy Cosmetics", price: 7.00, unit: "1.2 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-091", name: "Delineador Líquido de Ojos Negro", category: "Maquillaje de Ojos", brand: "Vogue", price: 4.00, unit: "9 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-092", name: "Sombras Compactas Trio Samy", category: "Maquillaje de Ojos", brand: "Samy Cosmetics", price: 3.50, unit: "4 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-093", name: "Splash dama", category: "Perfumes", brand: "Otros", price: 6.00, unit: "250 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-094", name: "Exfoliantes corporales", category: "Cuidado Corporal", brand: "Otros", price: 5.00, unit: "350 g", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-095", name: "Henna para cejas", category: "Cejas y Pestañas", brand: "Otros", price: 6.00, unit: "3 g", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-096", name: "Pestañas Individuales Premium", category: "Pestañas Postizas", brand: "Atenea", price: 4.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-097", name: "Kit de Pestañas Reflect", category: "Pestañas Postizas", brand: "Atenea", price: 7.50, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-098", name: "Pestañas New Show", category: "Pestañas Postizas", brand: "New Show", price: 4.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-099", name: "Pestañas Volumen Ruso 10D", category: "Pestañas Postizas", brand: "Otros", price: 5.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-100", name: "Laca Profesional Fijacion Fuerte", category: "Cuidado Capilar", brand: "René Chardon", price: 6.00, unit: "170 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-101", name: "Beauty blender X2 corazon", category: "Herramientas", brand: "Otros", price: 4.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-102", name: "Beautyblender Krismar", category: "Herramientas", brand: "Krismar", price: 1.50, unit: "170 ml", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-103", name: "Borlas Engol collections", category: "Herramientas", brand: "Engol", price: 3.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-104", name: "Borlas 4pcs Engol", category: "Herramientas", brand: "Engol", price: 2.50, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-105", name: "Borlas x2", category: "Herramientas", brand: "Engol", price: 1.50, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-106", name: "50 cepillos para cejas y pestañas", category: "Herramientas", brand: "Otros", price: 4.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-107", name: "Brocha para polvo", category: "Herramientas", brand: "Espression", price: 4.00, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-108", name: "Brocha profesional para cejas", category: "Herramientas", brand: "Otros", price: 3.00, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-109", name: "Brocha para polvo Engol", category: "Herramientas", brand: "Engol", price: 4.00, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-110", name: "Kit 12 brochas", category: "Herramientas", brand: "Otros", price: 7.00, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-111", name: "Brochas para ojos x7", category: "Herramientas", brand: "Otros", price: 5.00, unit: "N/A", gender: "Unisex", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-112", name: "Cosmetiquera cartuchera", category: "Accesorios", brand: "Otros", price: 5.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" },
            { id: "EC/MT-113", name: "Enchinadores Cristy", category: "Herramientas", brand: "Otros", price: 3.00, unit: "N/A", gender: "Femenino", image: "https://monterosec.github.io/img/productos/inventario.png" }
        ];

        // --- VARIABLES DE PAGINACIÓN ---
        let currentPage = 1;
        const itemsPerPage = 16;
        let currentFilteredProducts = []; // Para mantener el estado de los filtros

        document.addEventListener('DOMContentLoaded', () => {
            const currentYear = new Date().getFullYear();

            // Navbar Component
            const navbarComponent = `
            <nav class="bg-white shadow-md fixed w-full top-0 z-50 border-b-4 border-montero-pink">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="flex justify-between items-center h-20">
                        <div class="flex-shrink-0 flex items-center">
                            <a href="/" class="flex items-center gap-2">
                                <img class="h-10 w-auto md:h-16" src="https://monterosec.github.io/img/monteros.png" alt="Logo">
                            </a>
                        </div>
                        <div class="hidden md:flex items-center space-x-8">
                            <a href="/" class="text-gray-600 hover:text-montero-dark transition">Inicio</a>
                            <a href="productos" class="text-montero-dark font-bold hover:text-montero-dark transition border-b-2 border-montero-gold">Productos</a>
                            <a href="shop" class="text-fresh-pink font-bold hover:text-red-700 transition flex items-center gap-1"><i class="fa-solid fa-star text-xs"></i> 2026</a>
                            <a href="contacto" class="text-gray-600 hover:text-montero-dark font-medium transition">Contacto</a>
                            <a href="checkout" class="relative cursor-pointer group">
                                <i class="fa-solid fa-cart-shopping text-xl text-montero-dark group-hover:text-montero-gold transition"></i>
                                <span class="absolute -top-2 -right-2 bg-montero-gold text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center cart-badge">0</span>
                            </a>
                        </div>
                        <div class="flex items-center md:hidden gap-4">
                            <a href="checkout" class="relative cursor-pointer">
                                <i class="fa-solid fa-cart-shopping text-xl text-montero-dark"></i>
                                <span class="absolute -top-2 -right-2 bg-montero-gold text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center cart-badge">0</span>
                            </a>
                            <button id="mobile-menu-btn" class="text-montero-dark hover:text-gray-600 focus:outline-none p-2">
                                <i class="fa-solid fa-bars text-2xl"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div id="mobile-menu" class="mobile-menu md:hidden bg-montero-pink border-t border-white shadow-lg overflow-y-auto hidden">
                    <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 flex flex-col items-center">
                        <a href="/" class="block px-3 py-2 text-montero-dark w-full text-center">Inicio</a>
                        <a href="productos" class="block px-3 py-2 text-montero-dark font-bold bg-white rounded w-full text-center">Productos</a>
                        <a href="shop" class="block px-3 py-2 text-fresh-pink font-bold w-full text-center">Edición 2026</a>
                        <a href="contacto" class="block px-3 py-2 text-montero-dark w-full text-center">Contacto</a>
                    </div>
                </div>
            </nav>`;

            // Footer Component
            const footerComponent = `
            <footer class="bg-gray-900 text-white pt-12 pb-6 border-t-4 border-montero-gold relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-600 via-green-600 to-red-600 opacity-50"></div>
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                        <div class="flex flex-col items-center md:items-start text-center md:text-left">
                            <img src="https://monterosec.github.io/img/monter0s.png" alt="Logo" class="h-20 mb-4 rounded-lg p-1">
                            <p class="text-gray-400 text-sm mb-4">Realzando tu belleza natural con los mejores productos del mercado.</p>
                        </div>
                        <div class="text-center md:text-left">
                            <h3 class="text-montero-gold font-serif text-lg font-bold mb-4 border-b border-gray-700 pb-2">SERVICIO AL CLIENTE</h3>
                            <ul class="space-y-2 text-sm text-gray-300">
                                <li><a href="preguntas_frecuentes" class="hover:text-montero-pink transition">Preguntas Frecuentes</a></li>
                                <li><a href="tyc" class="hover:text-montero-pink transition">Términos y Condiciones</a></li>
                                <li><a href="pdp" class="hover:text-montero-pink transition">Política de Privacidad</a></li>
                                <li><a href="pdc" class="hover:text-montero-pink transition">Política de Cookies</a></li>
                                <li><a href="cdd" class="hover:text-montero-pink transition">Condiciones de devolución</a></li>
                                <li><a href="rastreo" class="hover:text-montero-pink transition">Rastreo de Pedidos</a></li>
                            </ul>
                        </div>
                        <div class="text-center md:text-left">
                            <h3 class="text-montero-gold font-serif text-lg font-bold mb-4 border-b border-gray-700 pb-2">ACERCA DE NOSOTROS</h3>
                            <ul class="space-y-3 text-sm text-gray-300">
                                <li><a href="equipo" class="text-montero-pink font-bold transition flex items-center justify-center md:justify-start gap-2"><i class="fa-solid fa-users text-montero-gold"></i> Equipo</a></li>
                                <li class="flex items-start justify-center md:justify-start"><i class="fa-solid fa-location-dot mt-1 mr-2 text-montero-pink"></i><a href="https://maps.app.goo.gl/Td4HtMzEt1oY1Yt49" target="_blank" class="hover:text-white transition">Pimampiro, Calle Juan Montalvo y Paquisha</a></li>
                                <li class="flex items-center justify-center md:justify-start"><i class="fa-solid fa-phone mr-2 text-montero-pink"></i><a href="tel:+593981540453" class="hover:text-white transition">0981540453</a></li>
                                <li class="flex items-center justify-center md:justify-start"><i class="fa-solid fa-envelope mr-2 text-montero-pink"></i><a href="mailto:monteros.ec@gmail.com" class="hover:text-white transition">monteros.ec@gmail.com</a></li>
                            </ul>
                        </div>
                        <div class="text-center md:text-left">
                            <h3 class="text-montero-gold font-serif text-lg font-bold mb-4 border-b border-gray-700 pb-2">SÍGUENOS</h3>
                            <div class="flex justify-center md:justify-start space-x-4 mb-6">
                                <a href="https://www.facebook.com/" target="_blank" class="bg-gray-800 h-10 w-10 rounded-full flex items-center justify-center hover:bg-montero-dark transition text-white"><i class="fa-brands fa-facebook-f"></i></a>
                                <a href="https://www.instagram.com/monteros.ec" target="_blank" class="bg-gray-800 h-10 w-10 rounded-full flex items-center justify-center hover:bg-montero-dark transition text-white"><i class="fa-brands fa-instagram"></i></a>
                                <a href="https://www.tiktok.com/@monteros.ec" target="_blank" class="bg-gray-800 h-10 w-10 rounded-full flex items-center justify-center hover:bg-montero-dark transition text-white"><i class="fa-brands fa-tiktok"></i></a>
                                <a href="https://chat.whatsapp.com/HTnBdNevj7mB7uDFPQLYZS" target="_blank" class="bg-gray-800 h-10 w-10 rounded-full flex items-center justify-center hover:bg-montero-dark transition text-white"><i class="fa-brands fa-whatsapp"></i></a>
                                <a href="https://t.me/+lgjZ4bwTftdhN2Qx" target="_blank" class="bg-gray-800 h-10 w-10 rounded-full flex items-center justify-center hover:bg-montero-dark transition text-white"><i class="fa-brands fa-telegram"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="border-t border-gray-800 mt-10 pt-6 text-center text-xs text-gray-500">
                        <p>&copy; ${currentYear} Montero's Tienda de Maquillaje.</p>
                    </div>
                </div>
            </footer>`;

            document.getElementById('navbar-container').innerHTML = navbarComponent;
            document.getElementById('footer-container').innerHTML = footerComponent;

            updateBadges();

            const btnMobile = document.getElementById('mobile-menu-btn');
            const menuMobile = document.getElementById('mobile-menu');
            if(btnMobile && menuMobile) {
                btnMobile.addEventListener('click', () => {
                    menuMobile.classList.toggle('hidden');
                });
            }

            initFilters();
            filterProducts(); // Carga inicial
        });

        // ==========================================
        // LÓGICA DE FILTRADO Y PAGINACIÓN
        // ==========================================
        
        function initFilters() {
            const inputs = ['search-input', 'category-select', 'brand-select', 'gender-select'];
            inputs.forEach(id => {
                document.getElementById(id).addEventListener('input', () => {
                    currentPage = 1; // Reset a pág 1 al filtrar
                    filterProducts();
                    if(window.scrollY > 400) window.scrollTo({ top: 300, behavior: 'smooth' });
                });
            });
        }

        function toggleMobileFilters() {
            const filtersWrapper = document.getElementById('filters-wrapper');
            // Toggle de la clase hidden para mostrar/ocultar
            filtersWrapper.classList.toggle('hidden');
            
            // Toggle del icono
            const icon = document.querySelector('#mobile-filter-btn i');
            if(filtersWrapper.classList.contains('hidden')) {
                icon.classList.remove('fa-xmark');
                icon.classList.add('fa-sliders');
            } else {
                icon.classList.remove('fa-sliders');
                icon.classList.add('fa-xmark');
            }
        }

        function filterProducts() {
            const searchText = document.getElementById('search-input').value.toLowerCase().trim();
            const categoryFilter = document.getElementById('category-select').value;
            const brandFilter = document.getElementById('brand-select').value;
            const genderFilter = document.getElementById('gender-select').value;

            // Guardamos el resultado filtrado en la variable global
            currentFilteredProducts = productsDB.filter(product => {
                const matchText = product.name.toLowerCase().includes(searchText) || product.brand.toLowerCase().includes(searchText);
                
                let matchCategory = true;
                if (categoryFilter !== 'all') {
                    const prodCat = product.category.toLowerCase();
                    const filterCat = categoryFilter.toLowerCase();
                    if (categoryFilter === 'Ojos') matchCategory = prodCat.includes('ojos') || prodCat.includes('pestañas') || prodCat.includes('cejas') || prodCat.includes('delineador') || prodCat.includes('sombras');
                    else if (categoryFilter === 'Rostro') matchCategory = prodCat.includes('rostro') || prodCat.includes('base') || prodCat.includes('iluminador') || prodCat.includes('fijador') || prodCat.includes('corrector') || prodCat.includes('preparación') || prodCat.includes('rubor');
                    else if (categoryFilter === 'Facial') matchCategory = prodCat.includes('facial') || prodCat.includes('serum') || prodCat.includes('tónico');
                    else if (categoryFilter === 'Maquillaje') matchCategory = prodCat.includes('maquillaje') || prodCat.includes('labios') || prodCat.includes('ojos') || prodCat.includes('rostro');
                    else matchCategory = prodCat.includes(filterCat);
                }

                let matchBrand = true;
                if(brandFilter !== 'all') {
                    if(brandFilter === 'Otros') {
                        const mainBrands = ["Ligne D’or", "Samy Cosmetics", "Vogue", "Dolce Bella", "MYK", "Engol", "Lula", "Atenea", "Lissia"];
                        matchBrand = !mainBrands.includes(product.brand);
                    } else {
                        matchBrand = product.brand.toLowerCase().includes(brandFilter.toLowerCase());
                    }
                }

                let matchGender = true;
                if(genderFilter !== 'all') {
                     matchGender = product.gender.trim().toLowerCase() === genderFilter.trim().toLowerCase();
                }

                return matchText && matchCategory && matchBrand && matchGender;
            });

            // Una vez filtrado, renderizamos la página actual
            renderPaginatedProducts();
            updateResultCount(currentFilteredProducts.length);
        }

        function renderPaginatedProducts() {
            const container = document.getElementById('products-grid');
            const noResults = document.getElementById('no-results');
            const paginationContainer = document.getElementById('pagination-container');
            
            container.innerHTML = '';
            
            if (currentFilteredProducts.length === 0) {
                container.classList.add('hidden');
                paginationContainer.innerHTML = '';
                noResults.classList.remove('hidden');
                return;
            }
            
            container.classList.remove('hidden');
            noResults.classList.add('hidden');

            // Lógica de Paginación (Slice)
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const productsToShow = currentFilteredProducts.slice(startIndex, endIndex);

            productsToShow.forEach(product => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-sm hover:shadow-xl transition duration-300 group overflow-hidden border border-gray-100 flex flex-col product-card fade-in cursor-pointer';
                // Añadimos evento onclick a toda la tarjeta
                card.onclick = (e) => {
                    // Si el click fue en el botón del carrito, NO abrir el modal
                    if(e.target.closest('.cart-btn-visible')) return;
                    openProductModal(product.id);
                };

                // Modificamos el botón para que tenga la clase cart-btn-visible y sea siempre visible
                card.innerHTML = `
                    <div class="relative aspect-square overflow-hidden bg-gray-50 flex items-center justify-center p-4">
                        <img src="${product.image}" alt="${product.name}" class="object-contain max-h-full group-hover:scale-110 transition duration-500 opacity-95 hover:opacity-100">
                        <span class="absolute top-2 right-2 bg-gray-100 text-gray-500 text-[10px] font-bold px-2 py-1 rounded-full uppercase opacity-70">${product.unit}</span>
                        
                        <!-- Botón siempre visible -->
                        <button onclick="addToCart('${product.name}', ${product.price}); event.stopPropagation();" class="cart-btn-visible absolute bottom-3 right-3 bg-montero-dark text-white w-10 h-10 rounded-full shadow-lg flex items-center justify-center transition-all duration-300 hover:bg-montero-gold" title="Agregar al carrito">
                            <i class="fa-solid fa-cart-plus"></i>
                        </button>
                    </div>
                    <div class="p-4 flex flex-col flex-grow">
                        <p class="text-[10px] text-gray-400 uppercase tracking-widest mb-1 font-bold">${product.brand}</p>
                        <h3 class="font-bold text-gray-800 text-sm mb-1 line-clamp-2 leading-tight min-h-[2.5em] hover:text-montero-dark transition" title="${product.name}">${product.name}</h3>
                        <div class="mt-auto pt-2 flex justify-between items-center border-t border-gray-50">
                            <span class="font-bold text-lg text-montero-dark">$${product.price.toFixed(2)}</span>
                            <span class="text-[10px] bg-montero-pink/30 text-montero-dark px-2 py-1 rounded font-medium truncate max-w-[100px]">${product.category}</span>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });

            renderPaginationControls();
        }

        function renderPaginationControls() {
            const container = document.getElementById('pagination-container');
            const totalPages = Math.ceil(currentFilteredProducts.length / itemsPerPage);
            
            if (totalPages <= 1) {
                container.innerHTML = '';
                return;
            }

            let html = '';
            
            // Botón Anterior
            html += `<button onclick="changePage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''} class="w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed transition"><i class="fa-solid fa-chevron-left"></i></button>`;

            // Páginas (Lógica simplificada: muestra máx 5 botones alrededor)
            let startPage = Math.max(1, currentPage - 2);
            let endPage = Math.min(totalPages, startPage + 4);
            
            if (endPage - startPage < 4) {
                startPage = Math.max(1, endPage - 4);
            }

            for (let i = startPage; i <= endPage; i++) {
                const isActive = i === currentPage ? 'bg-montero-dark text-white border-montero-dark' : 'bg-white text-gray-700 border-gray-200 hover:bg-gray-50';
                html += `<button onclick="changePage(${i})" class="w-10 h-10 rounded-full border font-bold flex items-center justify-center transition ${isActive}">${i}</button>`;
            }

            // Botón Siguiente
            html += `<button onclick="changePage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''} class="w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed transition"><i class="fa-solid fa-chevron-right"></i></button>`;

            container.innerHTML = html;
        }

        window.changePage = function(page) {
            const totalPages = Math.ceil(currentFilteredProducts.length / itemsPerPage);
            if (page < 1 || page > totalPages) return;
            currentPage = page;
            renderPaginatedProducts();
            document.getElementById('catalogo').scrollIntoView({ behavior: 'smooth' });
        }

        function updateResultCount(count) {
            document.getElementById('results-count').innerText = `Mostrando ${count} producto(s)`;
        }

        function resetFilters() {
            document.getElementById('search-input').value = '';
            document.getElementById('category-select').value = 'all';
            document.getElementById('brand-select').value = 'all';
            document.getElementById('gender-select').value = 'all';
            currentPage = 1;
            filterProducts();
        }

        // ==========================================
        // LÓGICA DEL MODAL DE PRODUCTO
        // ==========================================
        
        let currentModalProductId = null;

        window.openProductModal = function(productId) {
            const product = productsDB.find(p => p.id === productId);
            if (!product) return;

            currentModalProductId = productId;
            
            // Llenar datos
            document.getElementById('modal-img').src = product.image;
            document.getElementById('modal-brand-tag').innerText = product.brand;
            document.getElementById('modal-category').innerText = product.category;
            document.getElementById('modal-name').innerText = product.name;
            document.getElementById('modal-price').innerText = `$${product.price.toFixed(2)}`;
            document.getElementById('modal-unit').innerText = product.unit;
            document.getElementById('modal-gender').innerText = product.gender;
            
            // Generar una descripción simple si no existe en BD
            const desc = `Este increíble producto de ${product.brand} (${product.category}) está formulado para brindarte los mejores resultados. Ideal para uso diario y complemento perfecto de tu rutina de belleza. 100% Original.`;
            document.getElementById('modal-description').innerText = desc;

            // Resetear cantidad
            document.getElementById('modal-quantity').value = 1;

            // Mostrar Modal con animación
            const modal = document.getElementById('product-modal');
            modal.classList.remove('hidden-modal');
            modal.classList.add('visible-modal');
            document.body.style.overflow = 'hidden'; // Evitar scroll
        }

        window.closeProductModal = function() {
            const modal = document.getElementById('product-modal');
            modal.classList.remove('visible-modal');
            modal.classList.add('hidden-modal');
            document.body.style.overflow = '';
        }

        window.changeModalQuantity = function(change) {
            const input = document.getElementById('modal-quantity');
            let val = parseInt(input.value) + change;
            if (val < 1) val = 1;
            input.value = val;
        }

        window.addToCartFromModal = function() {
            const product = productsDB.find(p => p.id === currentModalProductId);
            if(product) {
                const qty = parseInt(document.getElementById('modal-quantity').value);
                addToCart(product.name, product.price, qty);
                closeProductModal();
            }
        }

        // --- CARRITO (Actualizado para cantidad) ---
        window.addToCart = function(name, price, quantity = 1) {
            let cart = JSON.parse(localStorage.getItem('monteroCart')) || {};
            cart[name] = (cart[name] || 0) + quantity;
            localStorage.setItem('monteroCart', JSON.stringify(cart));
            updateBadges();
            
            const notif = document.createElement('div');
            notif.className = 'fixed bottom-4 right-4 bg-montero-dark text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-bounce flex items-center border-l-4 border-montero-gold';
            notif.innerHTML = `<i class="fa-solid fa-check-circle mr-2 text-montero-gold"></i> Agregado al carrito (${quantity})`;
            document.body.appendChild(notif);
            setTimeout(() => notif.remove(), 2000);
        }

        function updateBadges() {
            const cart = JSON.parse(localStorage.getItem('monteroCart')) || {};
            const total = Object.values(cart).reduce((a,b) => a+b, 0);
            document.querySelectorAll('.cart-badge').forEach(b => b.innerText = total);
        }

        // Cerrar modal al clickear afuera
        document.getElementById('product-modal').addEventListener('click', function(e) {
            if (e.target === this) closeProductModal();
        });
    </script>
</body>
</html>