<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reserva Edici√≥n Limitada | Montero's</title>
    
    <!-- Favicon -->
    <link rel="icon" href="https://monterosec.github.io/img/LG.ico" type="image/x-icon">
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fuentes -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        h1, h2, h3, .font-serif { font-family: 'Playfair Display', serif; }
        
        .bg-pattern {
            background-color: #fff1f2;
            background-image: radial-gradient(#fecdd3 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        /* Estilos para el input de formulario personalizado */
        .form-input {
            transition: all 0.3s ease;
        }
        .form-input:focus {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(225, 29, 72, 0.1), 0 2px 4px -1px rgba(225, 29, 72, 0.06);
        }

        /* Ocultar scrollbar en carrusel m√≥vil si es necesario */
        .hide-scroll::-webkit-scrollbar {
            display: none;
        }
        .hide-scroll {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* Animaci√≥n para agregar al carrito */
        @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .animate-pop {
            animation: pop 0.2s ease-in-out;
        }
    </style>
</head>
<body class="bg-pattern min-h-screen flex flex-col">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- DATOS ---
        const products = [
            {
                id: 1,
                name: "Pink Wish",
                price: 38,
                image: "https://monterosec.github.io/img/caja1.png",
                surprises: 9,
                description: "Un sue√±o hecho realidad en tonos rosados. Contiene 9 sorpresas seleccionadas para resaltar tu belleza natural.",
                tag: "Bestseller"
            },
            {
                id: 2,
                name: "Red Velvet",
                price: 48,
                image: "https://monterosec.github.io/img/caja2.png",
                surprises: 12,
                description: "La elegancia y la pasi√≥n se unen. Descubre 12 sorpresas de alta gama, desde sombras intensas hasta iluminadores dorados.",
                tag: "Premium"
            },
            {
                id: 3,
                name: "Combo Besties",
                price: 80,
                image: "https://monterosec.github.io/img/caja3.png",
                surprises: 21,
                description: "¬°La colecci√≥n definitiva! Combina lo mejor de Pink Wish y Red Velvet. Ideal para regalar o compartir.",
                tag: "Promo Especial",
                isPromo: true
            }
        ];

        const ecuadorProvinces = [
            "Azuay", "Bol√≠var", "Ca√±ar", "Carchi", "Chimborazo", "Cotopaxi", "El Oro", "Esmeraldas", "Gal√°pagos", 
            "Guayas", "Imbabura", "Loja", "Los R√≠os", "Manab√≠", "Morona Santiago", "Napo", "Orellana", "Pastaza", 
            "Pichincha", "Santa Elena", "Santo Domingo de los Ts√°chilas", "Sucumb√≠os", "Tungurahua", "Zamora Chinchipe"
        ];

        // --- COMPONENTES ICONOS ---
        const Icons = {
            Sparkles: ({ size = 24, className = "" }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L12 3Z"></path><path d="M5 3v4"></path><path d="M9 5H5"></path></svg>),
            Instagram: ({ size = 24 }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"></line></svg>),
            TikTok: ({ size = 24 }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"></path></svg>),
            Check: ({ size = 24, className="" }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="20 6 9 17 4 12"></polyline></svg>),
            ChevronLeft: ({ size = 24, className="" }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m15 18-6-6 6-6"/></svg>),
            ChevronRight: ({ size = 24, className="" }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m9 18 6-6-6-6"/></svg>),
            Gift: ({ size = 24, className="" }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="3" y="8" width="18" height="4" rx="1" /><path d="M12 8v13" /><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7" /><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5" /></svg>),
            MapPin: ({ size = 24, className = "" }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>),
            Phone: ({ size = 24, className = "" }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>),
            Send: ({ size = 24, className = "" }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>),
            WhatsApp: ({ size = 24, className = "" }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 21l1.65-3.8a9 9 0 1 1 3.4 2.9L3 21"/><path d="M9 10a.5.5 0 0 0 1 0V9a.5.5 0 0 0-1 0v1a5 5 0 0 0 5 5h1a.5.5 0 0 0 0-1h-1a.5.5 0 0 0 0 1"/></svg>),
            Plus: ({ size = 24, className = "" }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M5 12h14"/><path d="M12 5v14"/></svg>),
            Minus: ({ size = 24, className = "" }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M5 12h14"/></svg>),
            Trash: ({ size = 24, className = "" }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>)
        };

        // --- FOOTER (Reutilizado) ---
        function Footer() {
            const { MapPin, Phone, Sparkles, Instagram, TikTok, Send } = Icons;
            return (
                <footer className="mt-16 bg-white rounded-t-3xl shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] border-t border-rose-100 p-8 w-full z-20 relative">
                    <div className="grid grid-cols-1 md:grid-cols-4 gap-8 max-w-6xl mx-auto">
                        <div className="flex flex-col items-center md:items-start text-center md:text-left">
                             <div className="flex items-center gap-2 mb-4">
                                <img src="https://monterosec.github.io/img/monteros.png" alt="Logo" className="h-8" />
                            </div>
                            <p className="text-sm text-gray-500 mb-4">¬© 2025 Todos los derechos reservados.</p>
                            <div className="flex flex-col gap-1">
                                <a href="#" className="text-xs text-gray-400 hover:text-rose-500 transition-colors">T√©rminos y Condiciones</a>
                                <a href="#" className="text-xs text-gray-400 hover:text-rose-500 transition-colors">Pol√≠tica de Privacidad</a>
                            </div>
                        </div>
                        <div className="flex flex-col items-center md:items-start text-center md:text-left">
                            <h4 className="font-bold text-gray-800 mb-4 flex items-center gap-2">
                                <MapPin size={18} className="text-rose-500"/> Vis√≠tanos
                            </h4>
                            <p className="text-sm text-gray-500 mb-2">Tienda F√≠sica Montero's</p>
                            <a href="https://maps.app.goo.gl/SodkgtYa32Giep1h7" target="_blank" rel="noreferrer" className="text-rose-600 font-bold text-sm hover:underline flex items-center gap-1">
                                Ver Ubicaci√≥n <Send size={12} className="-rotate-45" />
                            </a>
                        </div>
                        <div className="flex flex-col items-center md:items-start text-center md:text-left">
                            <h4 className="font-bold text-gray-800 mb-4 flex items-center gap-2">
                                <Phone size={18} className="text-rose-500"/> Contacto
                            </h4>
                            <p className="text-sm text-gray-500 mb-1">Dudas o pedidos:</p>
                            <p className="font-semibold text-gray-700">098 154 0453</p>
                            <p className="text-xs text-gray-400 mt-1">Lunes a S√°bado: 9am - 7pm</p>
                        </div>
                        <div className="flex flex-col items-center md:items-start text-center md:text-left">
                            <h4 className="font-bold text-gray-800 mb-4 flex items-center gap-2">
                                <Sparkles size={18} className="text-rose-500"/> S√≠guenos
                            </h4>
                            <div className="flex gap-3">
                                <a href="https://instagram.com/monteros.ec" target="_blank" className="bg-rose-50 p-2.5 rounded-full text-rose-600 hover:bg-rose-100 hover:scale-110 transition-all border border-rose-100">
                                    <Instagram size={20} />
                                </a>
                                <a href="https://tiktok.com/@monteros.ec" target="_blank" className="bg-rose-50 p-2.5 rounded-full text-rose-600 hover:bg-rose-100 hover:scale-110 transition-all border border-rose-100">
                                    <TikTok size={20} />
                                </a>
                            </div>
                        </div>
                    </div>
                </footer>
            );
        }

        // --- TARJETA DE PRODUCTO ---
        function ProductCard({ product, quantityInCart, onAdd, isMobile = false }) {
            const { Sparkles, Check, Gift, Plus } = Icons;
            
            return (
                <div 
                    className={`
                        relative bg-white rounded-2xl shadow-lg overflow-hidden transition-all duration-300 border-2 flex flex-col
                        ${quantityInCart > 0 ? 'border-rose-500 ring-4 ring-rose-100' : 'border-transparent hover:border-rose-200 hover:shadow-xl'}
                        ${isMobile ? 'w-full max-w-sm mx-auto' : 'h-full'}
                    `}
                >
                    {/* Badge */}
                    <div className="absolute top-4 left-4 z-10">
                        <span className={`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider shadow-sm ${product.isPromo ? 'bg-yellow-100 text-yellow-700' : 'bg-rose-100 text-rose-600'}`}>
                            {product.tag}
                        </span>
                    </div>

                    {/* Imagen */}
                    <div className="h-56 overflow-hidden bg-rose-50 relative group">
                        <img 
                            src={product.image} 
                            alt={product.name} 
                            className="w-full h-full object-cover object-center transition-transform duration-500 group-hover:scale-110"
                            onError={(e) => { e.target.src = 'https://via.placeholder.com/400x300?text=Caja+Sorpresa'; }}
                        />
                        {quantityInCart > 0 && (
                            <div className="absolute top-4 right-4 bg-rose-600 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold shadow-lg animate-pop">
                                {quantityInCart}
                            </div>
                        )}
                    </div>

                    {/* Contenido */}
                    <div className="p-6 flex flex-col flex-1">
                        <div className="flex justify-between items-start mb-2">
                            <h3 className="font-serif text-2xl font-bold text-gray-900">{product.name}</h3>
                            <span className="font-bold text-xl text-rose-600">${product.price}</span>
                        </div>
                        
                        <div className="flex items-center gap-2 text-sm text-gray-500 mb-4 bg-rose-50 w-fit px-3 py-1 rounded-lg">
                            <Gift size={16} className="text-rose-500" />
                            <span>{product.surprises} Sorpresas inclu√≠das</span>
                        </div>

                        <p className="text-gray-600 text-sm leading-relaxed mb-6 flex-1">
                            {product.description}
                        </p>

                        <button 
                            onClick={() => onAdd(product)}
                            className={`w-full py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2
                            ${quantityInCart > 0
                                ? 'bg-rose-600 text-white shadow-lg hover:bg-rose-700' 
                                : 'bg-gray-100 text-gray-600 hover:bg-rose-50 hover:text-rose-600'
                            }`}
                        >
                            <Plus size={18} />
                            {quantityInCart > 0 ? 'Agregar otra' : 'Agregar al Pedido'}
                        </button>
                    </div>
                </div>
            );
        }

        // --- APLICACI√ìN PRINCIPAL ---
        function App() {
            const { Sparkles, Instagram, TikTok, ChevronLeft, ChevronRight, Check, WhatsApp, Plus, Minus, Trash } = Icons;
            
            // Estado para el Carrito (Lista de objetos: { product, quantity })
            const [cart, setCart] = useState([]);
            
            // Estado para el formulario
            const [formData, setFormData] = useState({
                nombre: '',
                apellido: '',
                identificacion: '',
                celular: '',
                provincia: '',
                ciudad: '',
                direccion: ''
            });

            const [currentIndex, setCurrentIndex] = useState(0);

            // --- L√≥gica del Carrito ---
            
            const addToCart = (product) => {
                setCart(prevCart => {
                    const existingItem = prevCart.find(item => item.product.id === product.id);
                    if (existingItem) {
                        return prevCart.map(item => 
                            item.product.id === product.id 
                            ? { ...item, quantity: item.quantity + 1 } 
                            : item
                        );
                    } else {
                        return [...prevCart, { product, quantity: 1 }];
                    }
                });
            };

            const removeFromCart = (productId) => {
                setCart(prevCart => prevCart.filter(item => item.product.id !== productId));
            };

            const updateQuantity = (productId, delta) => {
                setCart(prevCart => prevCart.map(item => {
                    if (item.product.id === productId) {
                        const newQuantity = item.quantity + delta;
                        return newQuantity > 0 ? { ...item, quantity: newQuantity } : item;
                    }
                    return item;
                }));
            };

            const getQuantityInCart = (productId) => {
                const item = cart.find(item => item.product.id === productId);
                return item ? item.quantity : 0;
            };

            const calculateTotal = () => {
                return cart.reduce((total, item) => total + (item.product.price * item.quantity), 0);
            };

            // Handlers de Formulario
            const handleInputChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                if(cart.length === 0) {
                    alert("Tu pedido est√° vac√≠o. ¬°Agrega unas cajas sorpresa! ‚ú®");
                    return;
                }

                const phoneNumber = "593981540453"; 

                // Construcci√≥n del mensaje tipo lista
                let productsList = cart.map(item => 
                    `‚ñ´Ô∏è ${item.quantity}x ${item.product.name} ($${item.product.price} c/u) = $${item.quantity * item.product.price}`
                ).join('%0A');

                const total = calculateTotal();

                const message = `Hola Montero's! üëã Quiero reservar mi pedido especial:%0A%0A` +
                                `üõí *DETALLE DEL PEDIDO:*%0A` +
                                `${productsList}%0A` +
                                `‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ%0A` +
                                `üí∞ *TOTAL A PAGAR: $${total}*%0A%0A` +
                                `üìù *MIS DATOS:*%0A` +
                                `üë§ ${formData.nombre} ${formData.apellido}%0A` +
                                `üÜî ${formData.identificacion}%0A` +
                                `üì± ${formData.celular}%0A%0A` +
                                `üìç *ENV√çO A:*%0A` +
                                `${formData.provincia} - ${formData.ciudad}%0A` +
                                `${formData.direccion}%0A%0A` +
                                `¬°Quedo a la espera para confirmar! ‚ú®`;

                window.open(`https://wa.me/${phoneNumber}?text=${message}`, '_blank');
            };

            // Carrusel
            const nextSlide = () => setCurrentIndex((prev) => (prev === products.length - 1 ? 0 : prev + 1));
            const prevSlide = () => setCurrentIndex((prev) => (prev === 0 ? products.length - 1 : prev - 1));

            return (
                <div className="flex flex-col min-h-screen relative">
                    
                    {/* --- NAVBAR --- */}
                    <nav className="w-full py-4 sm:py-6 px-4 sm:px-6 flex flex-col md:flex-row justify-between items-center max-w-6xl mx-auto z-50 gap-4 md:gap-0">
                        <div className="flex items-center gap-2">
                            <a href="/">
                                <img src="https://monterosec.github.io/img/monteros.png" alt="Montero's Logo" className="h-10 sm:h-12 w-auto object-contain hover:opacity-80 transition-opacity" 
                                    onError={(e) => { e.target.style.display = 'none'; e.target.nextSibling.style.display = 'block'; }} />
                                <span className="text-xl sm:text-2xl font-serif font-bold text-rose-950 hidden">Montero's</span>
                            </a>
                        </div>
                        <div className="flex items-center gap-4 sm:gap-8 font-medium text-sm sm:text-base text-gray-700">
                            <a href="/" className="hover:text-rose-600 transition-colors hover:border-b-2 hover:border-rose-300">Inicio</a>
                            <a href="productos" className="hover:text-rose-600 transition-colors hover:border-b-2 hover:border-rose-300">Productos</a>
                            <a href="shop" className="bg-rose-100 text-rose-600 px-4 py-1.5 rounded-full text-xs sm:text-sm font-bold hover:bg-rose-200 transition-colors flex items-center gap-1 shadow-sm border border-rose-200">
                                <Sparkles size={14} /> Edici√≥n Limitada
                            </a>
                        </div>
                        <div className="flex gap-3 sm:gap-4 text-rose-400 hidden md:flex">
                            <a href="https://instagram.com/monteros.ec" target="_blank" className="hover:text-rose-600 hover:scale-110 transition-all p-1.5 sm:p-2 bg-white rounded-full shadow-sm"><Instagram size={18} /></a>
                            <a href="https://tiktok.com/@monteros.ec" target="_blank" className="hover:text-rose-600 hover:scale-110 transition-all p-1.5 sm:p-2 bg-white rounded-full shadow-sm"><TikTok size={18} /></a>
                        </div>
                    </nav>

                    {/* --- CONTENIDO PRINCIPAL --- */}
                    <main className="flex-1 w-full max-w-6xl mx-auto px-4 py-8">
                        
                        <div className="text-center mb-12">
                            <span className="text-rose-500 font-bold tracking-widest text-xs uppercase bg-rose-50 px-3 py-1 rounded-full border border-rose-100">Stock Limitado</span>
                            <h1 className="text-4xl sm:text-5xl font-serif font-black text-rose-950 mt-4 mb-2">Arma tu Pedido</h1>
                            <p className="text-gray-600 max-w-2xl mx-auto">Agrega las cajas que desees a tu pedido. ¬°Puedes combinar diferentes ediciones!</p>
                        </div>

                        {/* --- VISTA DE ESCRITORIO (Grid) --- */}
                        <div className="hidden md:grid md:grid-cols-3 gap-8 mb-16 items-stretch">
                            {products.map(product => (
                                <ProductCard 
                                    key={product.id} 
                                    product={product} 
                                    quantityInCart={getQuantityInCart(product.id)}
                                    onAdd={addToCart}
                                />
                            ))}
                        </div>

                        {/* --- VISTA M√ìVIL (Carrusel) --- */}
                        <div className="md:hidden mb-12 relative">
                            <div className="overflow-hidden px-2 pb-4">
                                <div className="transition-all duration-300">
                                    <ProductCard 
                                        product={products[currentIndex]}
                                        quantityInCart={getQuantityInCart(products[currentIndex].id)}
                                        onAdd={addToCart}
                                        isMobile={true}
                                    />
                                </div>
                            </div>
                            
                            {/* Controles Carrusel */}
                            <button onClick={prevSlide} className="absolute left-0 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow-md text-rose-600 hover:bg-white border border-rose-100 backdrop-blur-sm z-10">
                                <ChevronLeft size={24} />
                            </button>
                            <button onClick={nextSlide} className="absolute right-0 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow-md text-rose-600 hover:bg-white border border-rose-100 backdrop-blur-sm z-10">
                                <ChevronRight size={24} />
                            </button>

                            <div className="flex justify-center gap-2 mt-4">
                                {products.map((_, idx) => (
                                    <button 
                                        key={idx}
                                        onClick={() => setCurrentIndex(idx)}
                                        className={`w-2.5 h-2.5 rounded-full transition-all ${idx === currentIndex ? 'bg-rose-500 w-6' : 'bg-gray-300'}`}
                                    />
                                ))}
                            </div>
                        </div>

                        {/* --- SECCI√ìN FACTURA Y FORMULARIO --- */}
                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            
                            {/* COLUMNA IZQUIERDA: FACTURA */}
                            <div className="lg:col-span-1">
                                <div className="bg-white rounded-3xl shadow-lg border border-rose-100 overflow-hidden sticky top-4">
                                    <div className="bg-gray-900 text-white p-4 flex items-center justify-between">
                                        <h3 className="font-bold flex items-center gap-2"><Sparkles size={18} className="text-yellow-400"/> Tu Factura</h3>
                                        <span className="text-xs bg-gray-800 px-2 py-1 rounded text-gray-300">{cart.length} items</span>
                                    </div>
                                    
                                    <div className="p-4">
                                        {cart.length === 0 ? (
                                            <div className="text-center py-8 text-gray-400">
                                                <p className="text-4xl mb-2">üõí</p>
                                                <p className="text-sm">Tu pedido est√° vac√≠o</p>
                                            </div>
                                        ) : (
                                            <div className="space-y-4">
                                                <div className="max-h-60 overflow-y-auto pr-1">
                                                    {cart.map(item => (
                                                        <div key={item.product.id} className="flex flex-col border-b border-gray-100 pb-3 mb-3 last:border-0 last:pb-0 last:mb-0">
                                                            <div className="flex justify-between items-start mb-1">
                                                                <span className="font-bold text-gray-800 text-sm">{item.product.name}</span>
                                                                <span className="font-bold text-gray-900">${item.product.price * item.quantity}</span>
                                                            </div>
                                                            <div className="flex justify-between items-center">
                                                                <span className="text-xs text-gray-500">${item.product.price} c/u</span>
                                                                <div className="flex items-center gap-3 bg-gray-50 rounded-lg p-1">
                                                                    <button 
                                                                        onClick={() => updateQuantity(item.product.id, -1)}
                                                                        className="w-6 h-6 flex items-center justify-center bg-white rounded shadow-sm text-gray-600 hover:text-rose-600"
                                                                    >
                                                                        <Minus size={12}/>
                                                                    </button>
                                                                    <span className="text-sm font-bold w-4 text-center">{item.quantity}</span>
                                                                    <button 
                                                                        onClick={() => updateQuantity(item.product.id, 1)}
                                                                        className="w-6 h-6 flex items-center justify-center bg-white rounded shadow-sm text-gray-600 hover:text-rose-600"
                                                                    >
                                                                        <Plus size={12}/>
                                                                    </button>
                                                                    <button 
                                                                        onClick={() => removeFromCart(item.product.id)}
                                                                        className="w-6 h-6 flex items-center justify-center text-red-400 hover:bg-red-50 hover:text-red-600 rounded ml-1"
                                                                    >
                                                                        <Trash size={12}/>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    ))}
                                                </div>
                                                
                                                <div className="border-t-2 border-dashed border-gray-200 pt-4 mt-2">
                                                    <div className="flex justify-between items-end">
                                                        <span className="text-gray-500 font-medium">Total a Pagar:</span>
                                                        <span className="text-3xl font-black text-rose-600">${calculateTotal()}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>

                            {/* COLUMNA DERECHA: FORMULARIO */}
                            <div className="lg:col-span-2">
                                <div className="bg-white rounded-3xl shadow-xl border border-rose-100 overflow-hidden">
                                    <div className="bg-rose-600 p-6 text-white">
                                        <h2 className="text-2xl font-serif font-bold">Datos de Env√≠o</h2>
                                        <p className="text-rose-100 text-sm">Ingresa tus datos para finalizar la reserva</p>
                                    </div>

                                    <form onSubmit={handleSubmit} className="p-6 sm:p-10 grid grid-cols-1 md:grid-cols-2 gap-6">
                                        
                                        <div className="space-y-2">
                                            <label className="text-sm font-bold text-gray-700 ml-1">Nombre</label>
                                            <input type="text" name="nombre" required className="form-input w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none text-gray-700" placeholder="Tu nombre" onChange={handleInputChange}/>
                                        </div>

                                        <div className="space-y-2">
                                            <label className="text-sm font-bold text-gray-700 ml-1">Apellido</label>
                                            <input type="text" name="apellido" required className="form-input w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none text-gray-700" placeholder="Tu apellido" onChange={handleInputChange}/>
                                        </div>

                                        <div className="space-y-2">
                                            <label className="text-sm font-bold text-gray-700 ml-1">C√©dula o Pasaporte</label>
                                            <input type="text" name="identificacion" required className="form-input w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none text-gray-700" placeholder="Ej: 1712345678" onChange={handleInputChange}/>
                                        </div>

                                        <div className="space-y-2">
                                            <label className="text-sm font-bold text-gray-700 ml-1">Celular</label>
                                            <input type="tel" name="celular" required className="form-input w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none text-gray-700" placeholder="099 999 9999" onChange={handleInputChange}/>
                                        </div>

                                        <div className="md:col-span-2 border-t border-gray-100 my-2"></div>

                                        <div className="space-y-2">
                                            <label className="text-sm font-bold text-gray-700 ml-1">Pa√≠s</label>
                                            <div className="w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-500 font-medium cursor-not-allowed flex items-center gap-2">
                                                <img src="https://flagcdn.com/w20/ec.png" alt="Ecuador Flag" className="rounded-sm" />
                                                Ecuador (Fijo)
                                            </div>
                                        </div>

                                        <div className="space-y-2">
                                            <label className="text-sm font-bold text-gray-700 ml-1">Provincia</label>
                                            <select name="provincia" required className="form-input w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none text-gray-700 bg-white" onChange={handleInputChange} defaultValue="">
                                                <option value="" disabled>Selecciona una provincia</option>
                                                {ecuadorProvinces.map(prov => (<option key={prov} value={prov}>{prov}</option>))}
                                            </select>
                                        </div>

                                        <div className="space-y-2">
                                            <label className="text-sm font-bold text-gray-700 ml-1">Ciudad</label>
                                            <input type="text" name="ciudad" required className="form-input w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none text-gray-700" placeholder="Ej: Quito" onChange={handleInputChange}/>
                                        </div>

                                        <div className="space-y-2">
                                            <label className="text-sm font-bold text-gray-700 ml-1">Direcci√≥n (Calles y N√∫mero)</label>
                                            <input type="text" name="direccion" required className="form-input w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-rose-500 focus:ring-2 focus:ring-rose-200 outline-none text-gray-700" placeholder="Av. Principal y Calle Secundaria" onChange={handleInputChange}/>
                                        </div>

                                        <div className="md:col-span-2 mt-6">
                                            <button 
                                                type="submit"
                                                disabled={cart.length === 0}
                                                className={`w-full py-4 rounded-xl font-bold text-lg shadow-xl transition-all flex items-center justify-center gap-2
                                                    ${cart.length > 0
                                                        ? 'bg-gradient-to-r from-rose-600 to-pink-600 text-white hover:shadow-2xl hover:scale-[1.01]' 
                                                        : 'bg-gray-200 text-gray-400 cursor-not-allowed'
                                                    }
                                                `}
                                            >
                                                {cart.length > 0 
                                                    ? <span>Confirmar Pedido (${calculateTotal()})</span> 
                                                    : <span>Agrega productos para continuar</span>
                                                }
                                                <WhatsApp size={20} />
                                            </button>
                                        </div>

                                    </form>
                                </div>
                            </div>
                        </div>

                    </main>

                    {/* Footer Reutilizado */}
                    <Footer />
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
